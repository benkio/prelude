# Created <2026-02-05 Thu>
#+options: toc:2
#+title: Emacs Configuration
#+author: Enrico Benini
* Emacs Prelude Config

Contains the custom configuration for Prelude after proloading

* Setup
** use-package

#+begin_src emacs-lisp
  (setq use-package-always-ensure t)
#+end_src

** Disable

1. Remove initial scratch buffer message
2. disable super keybindings
#+begin_src emacs-lisp
  ;; Remove initial scratch buffer message
  (setq initial-scratch-message "")
  ;; disable super keybindings
  (setq prelude-super-keybindings nil)
#+end_src

** Theme

#+begin_src emacs-lisp
  ;; Brighter region background, line number, hidle and background of buffer line
  (set-face-attribute 'region nil :background "0000FF")
  (set-face-attribute 'line-number-current-line nil :background "0000FF")
  (set-face-attribute 'mode-line nil :background "6600CC")
#+end_src

* Packages
** Yasnippet

#+BEGIN_SRC emacs-lisp
  ;; Collection of snippets

  (use-package yasnippet
    :config
    (setq yas-snippet-dirs '("~/.emacs.d/personal/snippets"))
    )
  (yas-global-mode 1)

  (use-package yasnippet-snippets
    :config
    (setq yas-snippet-dirs
          '("~/.emacs.d/personal/default-snippets"
            yasnippet-snippets-dir))
    (yas-reload-all))
#+END_SRC

** SBT Mode

#+BEGIN_SRC emacs-lisp
(use-package sbt-mode
  :commands sbt-start sbt-command
  :config
  ;; WORKAROUND: https://github.com/ensime/emacs-sbt-mode/issues/31
  ;; allows using SPACE when in the minibuffer
  (substitute-key-definition
   'minibuffer-complete-word
   'self-insert-command
   minibuffer-local-completion-map)
  ;; sbt-supershell kills sbt-mode:  https://github.com/hvesalai/emacs-sbt-mode/issues/152
  (setq sbt:program-options '("-Dsbt.supershell=false"))
  )
#+END_SRC

** Highlight Symbol

Highlight the word you are on in case you stop there for some time

#+begin_src emacs-lisp
(use-package highlight-symbol
  :init
  (add-hook 'prog-mode-hook 'highlight-symbol-mode))
#+end_src

*** Nix-ts-mode

#+begin_src emacs-lisp
  (use-package nix-ts-mode
    :mode "\\.nix\\'"
    :config
    (with-eval-after-load 'treesit
      (unless (treesit-language-available-p 'nix)
        (ignore-errors
          (treesit-install-language-grammar 'nix)))))
#+end_src
*** Purescript

#+BEGIN_SRC emacs-lisp
  (use-package purescript-mode
    :mode "\\.purs\\'"
    :config
    (defun myhook-purescript-mode ()
      (turn-on-purescript-indentation)
      (add-hook 'before-save-hook #'purescript-sort-imports nil t))
    (add-hook 'purescript-mode-hook #'myhook-purescript-mode))
#+END_SRC
*** Iedit

Editing mulitiple occurrences of the same highlighted word at once.

#+begin_src emacs-lisp
  (use-package iedit)
#+end_src
** Ripgrep

Fast search, grep alternative

#+begin_src emacs-lisp
  (use-package rg)
#+end_src
* Functions

* Keybindings
